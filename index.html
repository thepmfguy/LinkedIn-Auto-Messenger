<!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LinkedIn Applicant Messenger</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tailwindcss/typography@0.5.x/dist/typography.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/quill@2.0.0-rc.2/dist/quill.snow.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <link rel="stylesheet" href="globals.css">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    borderRadius: {
                        DEFAULT: '0.7rem'
                    }
                }
            }
        }
    </script>
    <style>
        .ql-editor {
            min-height: 200px;
            font-size: var(--font-size-base);
            line-height: var(--line-height-normal);
            color: var(--color-text-primary);
        }
        .ql-toolbar {
            border-top-left-radius: var(--radius-lg);
            border-top-right-radius: var(--radius-lg);
            background-color: var(--color-background-secondary);
            border-color: var(--color-border);
        }
        .ql-container {
            border-bottom-left-radius: var(--radius-lg);
            border-bottom-right-radius: var(--radius-lg);
            background-color: var(--color-background);
            border-color: var(--color-border);
        }
        .dark .ql-snow {
            border-color: var(--color-border) !important;
        }
        .dark .ql-toolbar {
            background-color: var(--color-background-secondary);
            border-color: var(--color-border);
        }
        .dark .ql-container {
            background-color: var(--color-background);
            border-color: var(--color-border);
        }
    </style>
</head>
<body class="min-h-screen bg-gray-50 dark:bg-gray-900">
    <!-- Hero Section -->
    <div class="container py-16">
        <div class="text-center">
            <h1 class="h1 mb-4 text-gray-900 dark:text-white">LinkedIn Applicant Messenger</h1>
            <p class="text-xl mb-8 text-gray-600 dark:text-gray-300">
                Automate your applicant messaging with personalized templates
            </p>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container py-8">
        <!-- Message Template Section -->
        <div class="card mb-8 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700">
            <h2 class="h2 mb-4 text-gray-900 dark:text-white">Message Template</h2>
            <div class="mb-4">
                <div id="editor" class="border border-gray-200 dark:border-gray-700 rounded-lg"></div>
            </div>
            <p class="text-sm text-gray-500 dark:text-gray-400">Use {name} to personalize messages with applicant names</p>
        </div>

        <!-- Options Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
            <!-- Applicant Limit -->
            <div class="card bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700">
                <label for="applicantLimit" class="block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300">
                    Number of Applicants to Process
                </label>
                <input type="number" id="applicantLimit" min="1" value="10" 
                    class="w-full px-4 py-2 text-gray-900 dark:text-white bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
            </div>

            <!-- Approval Toggle -->
            <div class="card bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700">
                <label class="block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300">
                    Require Approval Before Sending
                </label>
                <div class="flex items-center">
                    <div class="relative inline-block w-12 mr-2 align-middle select-none">
                        <input type="checkbox" id="approvalToggle" checked
                            class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer transition-transform duration-200 ease-in-out transform translate-x-0 border-gray-300 dark:border-gray-600">
                        <label for="approvalToggle"
                            class="toggle-label block overflow-hidden h-6 rounded-full cursor-pointer bg-gray-300 dark:bg-gray-600"></label>
                    </div>
                    <span id="approvalStatus" class="text-sm text-gray-500 dark:text-gray-400">Enabled</span>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="flex flex-col sm:flex-row gap-4 mb-8">
            <button id="generateScript" 
                class="flex-1 px-6 py-3 text-white bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded-lg transition-colors duration-200">
                Generate Script
            </button>
            <button id="copyScript" 
                class="flex-1 px-6 py-3 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 rounded-lg transition-colors duration-200">
                Copy Script
            </button>
        </div>

        <!-- Generated Script Section -->
        <div id="scriptCard" class="card mb-8 hidden bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700">
            <h2 class="h2 mb-4 text-gray-900 dark:text-white">Your Custom Script</h2>
            <div class="relative">
                <div class="flex justify-between items-center bg-gray-900 px-4 py-3 rounded-t-lg">
                    <div class="flex items-center space-x-2">
                        <div class="w-3 h-3 rounded-full bg-red-500"></div>
                        <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                        <div class="w-3 h-3 rounded-full bg-green-500"></div>
                    </div>
                    <button id="copyCodeBtn" 
                        class="px-3 py-1 text-sm bg-gray-800 hover:bg-gray-700 text-gray-300 rounded-lg transition-colors duration-200 flex items-center space-x-2">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                        </svg>
                        <span>Copy</span>
                    </button>
                </div>
                <pre id="scriptContent" class="bg-gray-900 text-gray-100 p-4 rounded-b-lg overflow-x-auto text-sm font-mono"></pre>
            </div>
        </div>

        <!-- How It Works Section -->
        <div class="card mb-8 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700">
            <h2 class="h2 mb-6 text-gray-900 dark:text-white">How It Works</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="text-center">
                    <div class="w-12 h-12 mx-auto mb-4 rounded-full flex items-center justify-center bg-gray-100 dark:bg-gray-700">
                        <svg class="w-6 h-6 text-gray-600 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                        </svg>
                    </div>
                    <h3 class="h3 mb-2 text-gray-900 dark:text-white">Customize Template</h3>
                    <p class="text-gray-600 dark:text-gray-400">Create your message template with rich text formatting</p>
                </div>
                <div class="text-center">
                    <div class="w-12 h-12 mx-auto mb-4 rounded-full flex items-center justify-center bg-gray-100 dark:bg-gray-700">
                        <svg class="w-6 h-6 text-gray-600 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
                        </svg>
                    </div>
                    <h3 class="h3 mb-2 text-gray-900 dark:text-white">Generate Script</h3>
                    <p class="text-gray-600 dark:text-gray-400">Get your personalized automation script</p>
                </div>
                <div class="text-center">
                    <div class="w-12 h-12 mx-auto mb-4 rounded-full flex items-center justify-center bg-gray-100 dark:bg-gray-700">
                        <svg class="w-6 h-6 text-gray-600 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                        </svg>
                    </div>
                    <h3 class="h3 mb-2 text-gray-900 dark:text-white">Run Automation</h3>
                    <p class="text-gray-600 dark:text-gray-400">Paste the script in LinkedIn's console</p>
                </div>
            </div>
        </div>

        <!-- Detailed Instructions -->
        <div class="card bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700">
            <h2 class="h2 mb-6 text-gray-900 dark:text-white">Detailed Instructions</h2>
            <div class="space-y-6">
                <div class="flex items-start space-x-4">
                    <div class="flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400">
                        1
                    </div>
                    <div>
                        <h3 class="h3 mb-2 text-gray-900 dark:text-white">Visit Your Job Post</h3>
                        <p class="text-gray-600 dark:text-gray-400">Go to your LinkedIn job post and navigate to the view where all candidates are shown.</p>
                    </div>
                </div>
                <div class="flex items-start space-x-4">
                    <div class="flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400">
                        2
                    </div>
                    <div>
                        <h3 class="h3 mb-2 text-gray-900 dark:text-white">Open Developer Console</h3>
                        <p class="text-gray-600 dark:text-gray-400">Right-click anywhere on the page and select "Inspect" or press F12. Then click on the "Console" tab.</p>
                    </div>
                </div>
                <div class="flex items-start space-x-4">
                    <div class="flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400">
                        3
                    </div>
                    <div>
                        <h3 class="h3 mb-2 text-gray-900 dark:text-white">Enable Pasting</h3>
                        <p class="text-gray-600 dark:text-gray-400">If this is your first time, type "allow pasting" in the console when prompted.</p>
                    </div>
                </div>
                <div class="flex items-start space-x-4">
                    <div class="flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400">
                        4
                    </div>
                    <div>
                        <h3 class="h3 mb-2 text-gray-900 dark:text-white">Run the Script</h3>
                        <p class="text-gray-600 dark:text-gray-400">Paste the generated script and press Enter to start the automation. The tool will automatically start sending messages to candidates.</p>
                    </div>
                </div>
                <div class="flex items-start space-x-4">
                    <div class="flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400">
                        5
                    </div>
                    <div>
                        <h3 class="h3 mb-2 text-gray-900 dark:text-white">Multiple Pages</h3>
                        <p class="text-gray-600 dark:text-gray-400">Remember to run the script again when you navigate to the next page of applicants. Make sure to set the limit correctly to match the number of applicants on each page.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Theme Toggle -->
    <button id="themeToggle" 
        class="fixed bottom-4 right-4 p-3 rounded-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-sm transition-transform duration-200 hover:scale-105">
        <svg class="w-6 h-6 text-gray-600 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path id="themeIcon" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
        </svg>
    </button>

    <script src="https://cdn.jsdelivr.net/npm/quill@2.0.0-rc.2/dist/quill.min.js"></script>
    <script>
        // Initialize Quill editor
        const quill = new Quill('#editor', {
            theme: 'snow',
            modules: {
                toolbar: [
                    ['bold', 'italic', 'underline', 'strike'],
                    [{ 'list': 'ordered'}, { 'list': 'bullet' }],
                    [{ 'color': [] }, { 'background': [] }],
                    ['clean']
                ]
            },
            placeholder: 'Write your message template here...'
        });

        // Set default message
        quill.setContents([
            { insert: 'Hi {name},\n\n' },
            { insert: 'Thank you for applying to our position. We\'re currently reviewing applications and will get back to you soon.\n\n' },
            { insert: 'Best regards,\nYour Name' }
        ]);

        // Theme toggle functionality
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = document.getElementById('themeIcon');
        
        themeToggle.addEventListener('click', () => {
            document.documentElement.classList.toggle('dark');
            const isDark = document.documentElement.classList.contains('dark');
            themeIcon.setAttribute('d', isDark 
                ? 'M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z'
                : 'M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z'
            );
        });

        // Approval toggle functionality
        const approvalToggle = document.getElementById('approvalToggle');
        const approvalStatus = document.getElementById('approvalStatus');
        
        approvalToggle.addEventListener('change', function() {
            const isChecked = this.checked;
            approvalStatus.textContent = isChecked ? 'Enabled' : 'Disabled';
            
            // Update toggle visual state
            if (isChecked) {
                this.classList.add('translate-x-0');
                this.classList.remove('translate-x-6');
            } else {
                this.classList.remove('translate-x-0');
                this.classList.add('translate-x-6');
            }
        });

        // Generate and copy script functionality
        document.getElementById('generateScript').addEventListener('click', function() {
            const message = quill.root.innerHTML;
            const applicantLimit = document.getElementById('applicantLimit').value;
            const requireApproval = document.getElementById('approvalToggle').checked;
            
            const script = `// LinkedIn Applicant Messenger Script
const messageTemplate = \`${message}\`;
const applicantLimit = ${applicantLimit};
const requireApproval = ${requireApproval};

async function processApplicants() {
    const applicants = document.querySelectorAll('.applicant-card');
    let processed = 0;

    for (const applicant of applicants) {
        if (processed >= applicantLimit) break;

        try {
            const name = applicant.querySelector('.applicant-name').textContent.trim();
            const message = messageTemplate.replace(/{name}/g, name);
            
            const messageButton = applicant.querySelector('.message-button');
            messageButton.click();
            
            await new Promise(resolve => setTimeout(resolve, 1000));
            
            const messageInput = document.querySelector('.msg-form__contenteditable');
            if (messageInput) {
                messageInput.innerHTML = message;
                messageInput.dispatchEvent(new Event('input', { bubbles: true }));
                
                if (requireApproval) {
                    const shouldSend = confirm('Send message to ' + name + '?');
                    if (!shouldSend) {
                        const closeButton = document.querySelector('.msg-overlay-bubble-header__control');
                        if (closeButton) closeButton.click();
                        continue;
                    }
                }
                
                const sendButton = document.querySelector('.msg-form__send-button');
                if (sendButton) sendButton.click();
                
                await new Promise(resolve => setTimeout(resolve, 2000));
                processed++;
            }
        } catch (error) {
            console.error('Error processing applicant:', error);
        }
    }
    
    alert(\`Processed \${processed} applicants\`);
}

processApplicants();`;

            const scriptCard = document.getElementById('scriptCard');
            const scriptContent = document.getElementById('scriptContent');
            
            scriptContent.textContent = script;
            scriptCard.classList.remove('hidden');
            scriptCard.scrollIntoView({ behavior: 'smooth' });
            
            // Apply syntax highlighting
            hljs.highlightElement(scriptContent);
        });

        document.getElementById('copyCodeBtn').addEventListener('click', function() {
            const script = document.getElementById('scriptContent').textContent;
            if (script) {
                navigator.clipboard.writeText(script).then(() => {
                    // Show success animation
                    const copyBtn = document.getElementById('copyCodeBtn');
                    copyBtn.innerHTML = `
                        <svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                        </svg>
                        <span class="text-green-500">Copied!</span>
                    `;
                    setTimeout(() => {
                        copyBtn.innerHTML = `
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                            </svg>
                            <span>Copy</span>
                        `;
                    }, 2000);
                }).catch(err => {
                    console.error('Failed to copy script:', err);
                    alert('Failed to copy script. Please try again.');
                });
            }
        });
    </script>
</body>
</html> 
